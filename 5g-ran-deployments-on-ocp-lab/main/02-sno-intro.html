<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Introduction to Single Node OpenShift (SNO) :: LAB - 5G RAN Deployments on OpenShift</title>
    <link rel="canonical" href="https://pages.sysdeseng.com/5g-ran-deployments-on-ocp-lab/5g-ran-deployments-on-ocp-lab/main/02-sno-intro.html">
    <link rel="prev" href="01-5g-ran-context.html">
    <link rel="next" href="03-cnf-operators-intro.html">
    <meta name="generator" content="Antora 3.0.0">
    <link rel="stylesheet" href="../../_/css/site.css">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://developers.redhat.com" target="_blank"><img src="../../_/img/NewRHDFullLogo_4-color_white-wordmark.png" height="40px" alt="Red Hat Developer Program"></a>
      <a class="navbar-item" style="font-size: 24px; color: white" href="https://pages.sysdeseng.com/5g-ran-deployments-on-ocp-lab">LAB - 5G RAN Deployments on OpenShift</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="https://developers.redhat.com/ebooks/" target="_blank">Books</a>
        <a class="navbar-item" href="https://developers.redhat.com/cheatsheets/" target="_blank">Cheat Sheets</a>
        <a class="navbar-item" href="https://developers.redhat.com/events/" target="_blank">Upcoming Events</a>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">More Tutorials</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="https://redhat-developer-demos.github.io/kubernetes-tutorial/" target="_blank">Kubernetes</a>
            <a class="navbar-item" href="https://redhat-developer-demos.github.io/istio-tutorial/" target="_blank">Istio</a>
            <a class="navbar-item" href="https://redhat-developer-demos.github.io/quarkus-tutorial/" target="_blank">Quarkus</a>
            <a class="navbar-item" href="https://redhat-developer-demos.github.io/knative-tutorial/" target="_blank">Knative</a>
            <a class="navbar-item" href="https://redhat-developer-demos.github.io/tekton-tutorial/" target="_blank">Tekton</a>
          </div>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="5g-ran-deployments-on-ocp-lab" data-version="main">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="index.html"></a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="00-introduction.html">Introduction</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="01-5g-ran-context.html">5G Ran Context</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="01-5g-ran-context.html#low-latency">Low Latency</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="01-5g-ran-context.html#numa-nodes">NUMA Nodes</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="01-5g-ran-context.html#huge-pages">Huge Pages</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="01-5g-ran-context.html#cpu-pinning">CPU Pinning</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="01-5g-ran-context.html#irq-load-balancing">IRQ Load Balancing</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="01-5g-ran-context.html#dpdk">DPDK</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="01-5g-ran-context.html#oot-drivers">OoT Drivers</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="01-5g-ran-context.html#cpu-reduction-tuning">Tuning for CPU Reduction</a>
  </li>
</ul>
  </li>
  <li class="nav-item is-current-page" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="02-sno-intro.html">Introduction to Single Node OpenShift (SNO)</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#5g-ran">5G Radio Access Network</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#things-keep-mind">Things to keep in mind</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#deployments">Deployments</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#extra-information">Extra information</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="03-cnf-operators-intro.html">Introduction to CNF Operators</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="03-cnf-operators-intro.html#node-tuning-operator">Node Tuning Operator</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="03-cnf-operators-intro.html#sriov-operator">SR-IOV Operator</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="03-cnf-operators-intro.html#ptp-operator">PTP Operator</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="03-cnf-operators-intro.html#accelerators-operators">Accelerators Operators</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="04-ztp-intro.html">Introduction to Zero Touch Provisioning (ZTP)</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="04-ztp-intro.html#gitops">GitOps</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="04-ztp-intro.html#gitops-principles">GitOps Principles</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="04-ztp-intro.html#gitops-patterns-ocp">GitOps Patterns on OpenShift</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="04-ztp-intro.html#direct-commit-to-main">Direct commit to main</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="04-ztp-intro.html#prs-review-cycles">Pull Requests and review cycles</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="04-ztp-intro.html#directories-vs-branches">Directories vs Branches</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="04-ztp-intro.html#ztp-workflow">ZTP workflow</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="05-ocp-gitops.html">OpenShift GitOps</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="05-ocp-gitops.html#gitops-principles">Principles of GitOps</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="05-ocp-gitops.html#gitops-ocp">GitOps on OpenShift</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="06-rhacm-policies.html">RHACM Policies</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="06-rhacm-policies.html#policy-framework">Policy Framework</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="06-rhacm-policies.html#policies">Policies</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="06-rhacm-policies.html#policy-remediation">Policy Remediation</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="07-managing-at-scale.html">Managing at Scale</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="07-managing-at-scale.html#inform-policies">Inform Policies</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="07-managing-at-scale.html#olm-subscriptions">OLM Subscriptions</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="07-managing-at-scale.html#cluster-policies">Cluster Policies</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="08-ztp-at-scale.html">ZTP at Scale</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="09-talm.html">Topology Aware Lifecycle Manager (TALM)</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="09-talm.html#cluster-lifecycle-at-scale">Lifecycle management of many clusters at scale</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="10-policygen-deepdive.html">PolicyGen Deepdive</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="11-deployment-considerations.html">Deployment Considerations</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="11-deployment-considerations.html#hardware-configurations">Hardware configurations</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="11-deployment-considerations.html#bios-settings">Bios Settings</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="11-deployment-considerations.html#networking">Networking</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="11-deployment-considerations.html#disconnected-environments">Disconnected Environments</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="11-deployment-considerations.html#connected-proxy">Connected through proxy</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="11-deployment-considerations.html#fully-disconnected">Fully disconnected</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="11-deployment-considerations.html#git-repo-structure">Git Repository Structure</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="12-crafting-deployments-iaac.html">Crafting Deployment&#8217;s IaaC</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="13-crafting-cluster-cnf-operators-configs.html">Crafting Cluster and CNF Operators Configs</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="14-running-the-deployment.html">Running the Deployment</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="15-monitoring-the-deployment.html">Monitoring the Deployment</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="16-check-deployment-is-finished.html">Check Deployment is finished</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="17-using-talm-to-update-clusters.html">Using TALM to update clusters</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="18-troubleshooting-tips.html">Troubleshooting Tips</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="19-common-pitfalls.html">Common Pitfalls</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="20-closing-thoughts.html">Closing Thoughts</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="index.html">LAB - 5G RAN Deployments on OpenShift</a></li>
    <li><a href="02-sno-intro.html">Introduction to Single Node OpenShift (SNO)</a></li>
  </ul>
</nav>
  <div class="edit-this-page"><a href="https://github.com/RHsyseng/5g-ran-deployments-on-ocp-lab/edit/main/documentation/modules/ROOT/pages/02-sno-intro.adoc">Edit this Page</a></div>
  </div>
  <div class="content">
<article class="doc">
<h1 class="page">Introduction to Single Node OpenShift (SNO)</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Edge computing is everywhere. While many organizations look to take advantage of deploying applications at the edge, the physical nature of many of these edge sites can cause challenges to the architects who need to deploy hardware in confined spaces or where network connectivity back to the central data center may be intermittent. To help solve this problem, we have been working to make our Red Hat OpenShift footprint smaller to fit into these more constrained environments by putting both control and worker capabilities into a single node. As of OpenShift 4.9, we now have a full OpenShift deployment in a single node called Single Node OpenShift (SNO).</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="5g-ran"><a class="anchor" href="#5g-ran"></a>5G Radio Access Network</h2>
<div class="sectionbody">
<div class="paragraph">
<p>SNO&#8217;s primary use case is for edge computing workloads, including intermittent connectivity, portable clouds, and 5G radio access networks (RAN) close to a base station. The major tradeoff with an installation on a single node is the lack of high availability. In this lab, we are going to focus in telecommunication service providers' implementation of a Radio Access Network (RAN) use case as part of a 5G mobile network.</p>
</div>
<div class="paragraph">
<p>Notice that in the context of telecommunications service providers' 5G RANs, it is increasingly common to see "cloud native" implementations of the 5G Distributed Unit (DU) components. Due to latency constraints, the DU needs to be deployed very close to the Radio Units (RUs), for which it is responsible. In practice, this can mean running the DU on anything from a single server at the base of a cell tower to a more datacenter-like environment serving several RUs.</p>
</div>
<div class="paragraph">
<p>A typical DU example is a resource-intensive workload, requiring 6 dedicated cores per DU and several DUs packed on the server, with 16-24 GB of RAM per DU (consumed as huge pages), multiple single route I/O virtualization (SR-IOV) NICs, FPGA, or GPU acceleration cards  carrying several Gbps of traffic each. One crucial detail of this use case is ensuring that this workload can be "autonomous" so that it can continue operating with its existing configuration, even when any centralized management functionality is unavailable. This is where single node OpenShift comes in.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="things-keep-mind"><a class="anchor" href="#things-keep-mind"></a>Things to keep in mind</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Single node OpenShift offers both control and worker node capabilities in a single server and provides users with a consistent experience across the sites where OpenShift is deployed, regardless of the size of the deployment. Keep in mind a single node OpenShift deployment differs from the default self-managed/highly-available cluster profile in couple of ways:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>To optimize system resource usage, many operators are configured to reduce the footprint of their operands when running on a single node OpenShift. This is even more visible when deploying the Telco 5G RAN QE validated pattern which establishes a base platform for RAN DU workloads.</p>
</li>
<li>
<p>In environments that require high availability, it is recommended that the architecture be configured in a way in which if the hardware was to fail, those workloads are transitioned to other sites or nodes while the impacted node is recovered. This is where Red Hat Advanced Cluster Management can really help us controlling our fleet of clusters.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="deployments"><a class="anchor" href="#deployments"></a>Deployments</h2>
<div class="sectionbody">
<div class="paragraph">
<p>OpenShift installs typically require a temporary bootstrap machine, which is usually a separate machine, but edge deployments are often performed in environments where there are no extra nodes. However, for these use-cases, the new functionality provided by OpenShift’s “Bootstrap-in-Place” option eliminates the separate bootstrap node requirement for single-node deployments. So when installing single-node OpenShift, you only need the node you wish to install onto.</p>
</div>
<div class="paragraph">
<p>OpenShift Container Platform on a single node is a specialized installation that requires the creation of a special ignition configuration ISO. It is supported on bare metal, vSphere, Red Hat OpenStack, and Red Hat Virtualization platforms as today.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
The use of OpenShiftSDN with single-node OpenShift is not supported. OVN-Kubernetes is the default networking solution for single-node OpenShift deployments.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Requirements for SNO are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Single-node OpenShift requires the following minimum host resources: vCPU: 8, VirtualRAM: 16 GB, Storage: 120 GB</p>
</li>
<li>
<p>Single-node OpenShift isn’t highly-available. It explicitly does not assume zero downtime of the Kubernetes API.</p>
</li>
<li>
<p>The server must have access to the internet or access to a local registry if it is not connected to a routable network.</p>
</li>
<li>
<p>The server must have a DHCP reservation or a static IP address for the Kubernetes API, ingress route, and cluster node domain names. You must configure the DNS to resolve the IP address to each of the following fully qualified domain names (FQDN)</p>
</li>
</ul>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
You can now add workers to a Single-Node OpenShift (SNO) when using OpenShift 4.11
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>With single-node OpenShift, you have three choices to perform the installation:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Red Hat Advanced Cluster Management for Kubernetes</strong> - allows provisioning single-node OpenShift using kube-native APIs. This is the method that we are going to use in this lab, well, actually it is not 100% accurate, we are going to use Zero Touch Provisioning (ZTP) for provisioning and configuring the SNO which is leveraging RHACM under the hood.</p>
</li>
<li>
<p><strong>Web-based Assisted Installer</strong> and a discovery ISO that you generate using the Assisted Installer. Basically, you need to follow the web-based Assisted Installer wizard from <a href="https://console.redhat.com/openshift/assisted-installer/clusters">the Red Hat OpenShift Cluster Manager</a> that will guide you through the process and manage the installation. Once the discovery ISO is created, attach the image to the target host and  boot your server from the attached discovery ISO. Detailed information can be found <a href="https://docs.openshift.com/container-platform/latest/installing/installing_sno/install-sno-installing-sno.html#installing-single-node-openshift-using-the-assisted-installer">here</a>.</p>
</li>
<li>
<p><strong>coreos-installer</strong>. You can also install single-node OpenShift by using coreos-installer to generate the installation ISO and then boot the server from the ISO. Detailed information can be found <a href="https://docs.openshift.com/container-platform/latest/installing/installing_sno/install-sno-installing-sno.html#installing-single-node-openshift-manually">here</a>.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="extra-information"><a class="anchor" href="#extra-information"></a>Extra information</h2>
<div class="sectionbody">
<div class="paragraph">
<p>There is plenty of information about SNO, here you have some interesting references that can help you to better understand the different methods to install a Single Node OpenShift cluster:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://cloud.redhat.com/blog/deploy-openshift-at-the-edge-with-single-node-openshift">Using web-based Assisted Installer</a> and a <a href="https://www.youtube.com/watch?v=QFf0yVAHQKc">recording</a>.</p>
</li>
<li>
<p><a href="https://cloud.redhat.com/blog/telco-5g-zero-touch-provisioning-ztp">Telco 5G Zero Touch Provisioning</a>.</p>
</li>
<li>
<p><a href="https://www.redhat.com/en/blog/meet-single-node-openshift-our-smallest-openshift-footprint-edge-architectures">Meet single node OpenShift: Our newest small OpenShift footprint for edge architectures</a>.</p>
</li>
<li>
<p><a href="https://docs.openshift.com/container-platform/4.11/installing/installing_sno/install-sno-preparing-to-install-sno.html">Preparing to install on a single node</a> in the official documentation.</p>
</li>
</ul>
</div>
</div>
</div>
<nav class="pagination">
  <span class="prev"><a href="01-5g-ran-context.html">5G Ran Context</a></span>
  <span class="next"><a href="03-cnf-operators-intro.html">Introduction to CNF Operators</a></span>
</nav>
</article>
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
  </div>
</main>
</div>
<footer class="footer">
  <a class="rhd-logo" href="https://developers.redhat.com" target="_blank"></div>
</footer>
<script src="../../_/js/vendor/clipboard.js"></script>
<script src="../../_/js/site.js"></script>
<script async src="../../_/js/vendor/highlight.js"></script>
  </body>
</html>
